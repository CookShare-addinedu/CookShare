package com.example.foodshare.chat.service;import java.util.Date;import java.util.List;import java.util.Optional;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import com.example.foodshare.chat.repository.ChatRoomRepository;import com.example.foodshare.domain.ChatRoom;@Servicepublic class ChatRoomService {	@Autowired	ChatRoomRepository chatRoomRepository;	public ChatRoom createChatRoom(String firstUserId, String secondUserId) {		ChatRoom chatRoom = ChatRoom.builder()			.firstUser(firstUserId)			.secondUser(secondUserId)			.createdAt(new Date())			.build();		return chatRoomRepository.save(chatRoom);	}	public List<ChatRoom> findRoomsByUserId(String userId) {		return chatRoomRepository.findByFirstUserOrSecondUser(userId, userId);	}	public Optional<ChatRoom> findRoomByIdAndUserId(String roomId, String userId) {		return chatRoomRepository.findById(roomId)			.filter(room -> room.getFirstUser().equals(userId) || room.getSecondUser().equals(userId));	}}