import {useState, useEffect, useCallback} from 'react';import axios from 'axios';const useChatDetailList = (chatRoomId, userId) => {    const [messageList, setMessageList] = useState([]);    const [page, setPage] = useState(0);    const [hasMore, setHasMore] = useState(true);    const loadChatMessages = useCallback(() => {        if (!hasMore) {            return Promise.resolve();        }        return  axios.get(`/api/detailRoom/${chatRoomId}/messages`, {            params: { userId, page, size: 10 }        })            .then(response => {                let newMessages = [];                if (response.data && Array.isArray(response.data.content)) {                    newMessages = response.data.content.reverse();                }                if (newMessages.length < 10) {                    setHasMore(false);                }                setMessageList(prevMessages => [...newMessages, ...prevMessages]);                setPage(prevPage => prevPage + 1);            })            .catch(error => {                console.error("채팅방 상세 정보 조회 에러: ", error);                setHasMore(false); // 에러 발생시 더 이상 로드하지 않음                return Promise.reject(error);            });    }, [chatRoomId, userId, page, hasMore]);    const addMessageList = useCallback((newMessage) => {        setMessageList(prevMessages => [...prevMessages, newMessage]);    }, []);    return { messageList, setMessageList, loadChatMessages, hasMore, addMessageList };};export default useChatDetailList;